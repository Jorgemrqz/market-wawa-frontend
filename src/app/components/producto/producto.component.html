<div class="page-container">
  <div class="producto-container">
    <h1>Productos</h1>

    <div class="form-container">
      <form (ngSubmit)="onSubmit()" #productoForm="ngForm">
        <div class="input-group">
          <label for="nombre">Nombre del producto</label>
          <input type="text" id="nombre" name="nombre" [(ngModel)]="producto.nombre" required />
        </div>

        <div class="input-group">
          <label for="descripcion">Descripción</label>
          <textarea id="descripcion" name="descripcion" [(ngModel)]="producto.descripcion" required></textarea>
        </div>

        <div class="input-group">
          <label for="precio_compra">Precio de compra</label>
          <input type="number" id="precio_compra" name="precio_compra" [(ngModel)]="producto.precio_compra" required />
        </div>

        <div class="input-group">
          <label for="precio_venta">Precio de venta</label>
          <input type="number" id="precio_venta" name="precio_venta" [(ngModel)]="producto.precio_venta" required />
        </div>

        <div class="input-group">
          <label for="stock">Stock</label>
          <input type="number" id="stock" name="stock" [(ngModel)]="producto.stock" required />
        </div>

        <div class="input-group">
          <label for="id_proveedor">ID Proveedor</label>
          <input type="number" id="id_proveedor" name="id_proveedor" [(ngModel)]="producto.id_proveedor" required />
        </div>

        <button type="submit" class="submit-button">Guardar Producto</button>
      </form>
    </div>

    <div class="producto-list">
      <h2>Lista de productos</h2>

      <!-- Mostrar mensaje si no hay productos -->
      <div *ngIf="productos.length === 0">
        <p>No hay productos disponibles.</p>
      </div>

      <!-- Mostrar la tabla de productos si hay productos -->
      <table *ngIf="productos.length > 0">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Descripción</th>
            <th>Precio Compra</th>
            <th>Precio Venta</th>
            <th>Stock</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let producto of productos">
            <td>{{ producto.nombre }}</td>
            <td>{{ producto.descripcion }}</td>
            <td>{{ producto.precio_compra }}</td>
            <td>{{ producto.precio_venta }}</td>
            <td>{{ producto.stock }}</td>
            <td>
              <button (click)="editProducto(producto)">Editar</button>
              <button (click)="deleteProducto(producto.id_producto)">Eliminar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
